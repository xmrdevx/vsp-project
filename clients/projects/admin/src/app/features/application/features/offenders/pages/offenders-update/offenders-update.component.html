<ng-container *ngIf="!isModal; else modalLayoutTemplate;">
  <nz-page-header class="py-0">
    <div nz-page-header-title>
      <h1 nz-typography>Update Offender</h1>
    </div>
    <nz-page-header-extra>
      <button
          class="mr-1"
          nz-button 
          nzType="primary"
          (click)="updateOffender(updateOffenderForm.value)">
        Save
      </button>
      <button
          nz-button 
          nzType="primary"
          nzGhost
          (click)="cancelUpdate()">
        Cancel
      </button>
    </nz-page-header-extra>
  </nz-page-header>

  <div [@fadeAnimation] class="px-3">
    <nz-card class="w-100 p-0">
      <form nz-form>
        <ng-container
            [ngTemplateOutlet]="updateOffenderFormTemplate"
            [ngTemplateOutletContext]="{ form: updateOffenderForm }">
        </ng-container>
      </form>
    </nz-card>
  </div>
</ng-container>

<ng-template #modalLayoutTemplate>
  <h3 nz-typography style="margin-bottom:0;">Update Offender</h3>
  <nz-divider class="my-1 py-1"></nz-divider>
  <ng-container
      [ngTemplateOutlet]="updateOffenderFormTemplate"
      [ngTemplateOutletContext]="{ form: updateOffenderForm }">
  </ng-container>
  <div class="text-right">
    <button
        class="mr-1"
        nz-button 
        nzType="primary"
        (click)="updateOffender(updateOffenderForm.value)">
      Save
    </button>
    <button
        nz-button 
        nzType="primary"
        nzGhost
        (click)="cancelUpdate()">
      Cancel
    </button>
  </div>
</ng-template>

<ng-template #updateOffenderFormTemplate let-form="form">
  <form class="block" [formGroup]="form">
    <vsp-offender-form></vsp-offender-form>
  </form>
</ng-template>
